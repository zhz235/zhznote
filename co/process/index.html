
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="zhz的笔记本">
      
      
      
        <link rel="canonical" href="https://zhz235.github.io/zhznote/co/process/">
      
      
        <link rel="prev" href="../introduction/">
      
      
        <link rel="next" href="../os/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>处理器 - Zeng's notebook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=LXGW+WenKai+Screen:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"LXGW WenKai Screen";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-screen-webfont@1.1.0/style.css">
    
      <link rel="stylesheet" href="https://gcore.jsdelivr.net/npm/lxgw-wenkai-webfont@1.1.0/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#processor" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Zeng&#39;s notebook" class="md-header__button md-logo" aria-label="Zeng's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Zeng's notebook
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              处理器
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/zhz235/zhznote/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    zhz235/zhznote
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../language/_c/" class="md-tabs__link">
          
  
    
  
  language

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../FDS/" class="md-tabs__link">
          
  
    
  
  Computer Science

        </a>
      </li>
    
  

    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  system

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../tools/_git/" class="md-tabs__link">
          
  
    
  
  tools

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Zeng&#39;s notebook" class="md-nav__button md-logo" aria-label="Zeng's notebook" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Zeng's notebook
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/zhz235/zhznote/" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    zhz235/zhznote
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    language
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            language
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/_c/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    C
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/_python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../language/_matlab/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matlab
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Computer Science
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Computer Science
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../FDS/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    FDS
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            FDS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FDS/tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    树
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FDS/heap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    堆
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FDS/disjointset/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    并查集
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FDS/graph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FDS/sort/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    排序
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../FDS/hash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    哈希
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ads/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ADS
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            ADS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/avl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    avltree,splaytree
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/rbtree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    红黑树
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/liftheap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    左式堆
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/invertindex/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    倒排索引
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/binomialqueue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    二项堆
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/algorithm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    算法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ads/np/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    np问题
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../oop/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    OOP
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            OOP
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../oop/slt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SLT
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../DB/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    DB
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            DB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/relation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    关系模型
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../DB/sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SQL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    system
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            system
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机组成与设计
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            计算机组成与设计
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    处理器
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    处理器
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datapath" class="md-nav__link">
    <span class="md-ellipsis">
      datapath
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller" class="md-nav__link">
    <span class="md-ellipsis">
      controller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isa" class="md-nav__link">
    <span class="md-ellipsis">
      ISA设计
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ISA设计">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      寻址
    </span>
  </a>
  
    <nav class="md-nav" aria-label="寻址">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#address-alignment" class="md-nav__link">
    <span class="md-ellipsis">
      address alignment（字节对齐）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pipelined" class="md-nav__link">
    <span class="md-ellipsis">
      Pipelined
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipelined">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      吞吐量，加速比，效率
    </span>
  </a>
  
    <nav class="md-nav" aria-label="吞吐量，加速比，效率">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      静态流水线例子
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      动态流水线例子
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hazard" class="md-nav__link">
    <span class="md-ellipsis">
      hazard 竞争
    </span>
  </a>
  
    <nav class="md-nav" aria-label="hazard 竞争">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-hazard" class="md-nav__link">
    <span class="md-ellipsis">
      structure hazard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-hazard" class="md-nav__link">
    <span class="md-ellipsis">
      data hazard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-hazard" class="md-nav__link">
    <span class="md-ellipsis">
      control hazard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      非线性流水线的调度
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      多发射
    </span>
  </a>
  
    <nav class="md-nav" aria-label="多发射">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#superscalar" class="md-nav__link">
    <span class="md-ellipsis">
      superscalar 超标量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlimvery-long-instruction-word" class="md-nav__link">
    <span class="md-ellipsis">
      VLIM(very long instruction word) 超长指令字
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#super-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      super-pipeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      线程
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../os/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    软件部分基础
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../processes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进程
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../schedule/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    调度
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../syn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    同步
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tools/_git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    git
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#datapath" class="md-nav__link">
    <span class="md-ellipsis">
      datapath
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller" class="md-nav__link">
    <span class="md-ellipsis">
      controller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isa" class="md-nav__link">
    <span class="md-ellipsis">
      ISA设计
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ISA设计">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      寻址
    </span>
  </a>
  
    <nav class="md-nav" aria-label="寻址">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#address-alignment" class="md-nav__link">
    <span class="md-ellipsis">
      address alignment（字节对齐）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pipelined" class="md-nav__link">
    <span class="md-ellipsis">
      Pipelined
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pipelined">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      分类
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      吞吐量，加速比，效率
    </span>
  </a>
  
    <nav class="md-nav" aria-label="吞吐量，加速比，效率">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      静态流水线例子
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      动态流水线例子
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      实现
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hazard" class="md-nav__link">
    <span class="md-ellipsis">
      hazard 竞争
    </span>
  </a>
  
    <nav class="md-nav" aria-label="hazard 竞争">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-hazard" class="md-nav__link">
    <span class="md-ellipsis">
      structure hazard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-hazard" class="md-nav__link">
    <span class="md-ellipsis">
      data hazard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#control-hazard" class="md-nav__link">
    <span class="md-ellipsis">
      control hazard
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      非线性流水线的调度
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      多发射
    </span>
  </a>
  
    <nav class="md-nav" aria-label="多发射">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#superscalar" class="md-nav__link">
    <span class="md-ellipsis">
      superscalar 超标量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vlimvery-long-instruction-word" class="md-nav__link">
    <span class="md-ellipsis">
      VLIM(very long instruction word) 超长指令字
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#super-pipeline" class="md-nav__link">
    <span class="md-ellipsis">
      super-pipeline
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      线程
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/zhz235/zhznote/edit/master/docs/co/process.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


<h1 id="processor">processor<a class="headerlink" href="#processor" title="Permanent link">&para;</a></h1>
<ol>
<li>fetch the instruction from the memory</li>
<li>decode and read the registers</li>
<li>next steps depend on the instruction class
   - memory-reference
   - arithmetic-logical
   - branches</li>
<li>alu to calulate
   - arithmetic result
   - memory address for load/store
   - branch comparison</li>
</ol>
<h2 id="datapath">datapath<a class="headerlink" href="#datapath" title="Permanent link">&para;</a></h2>
<p>r:取出寄存器中rs1,rs2中的值进入alu计算，得到的结果写回寄存器（rd）</p>
<p>i（load）:从寄存器中取出rs1的值,与立即数进入alu相加，得到地址，从data memory中取出该值并写回寄存器（rd）</p>
<p>s:与i型指令类似的方法得到地址：rs1与立即数相加；并把rs2的值写入该data memory的该地址 </p>
<p>sb（eg: beq a1,a2,200）:取出rs1,rs2的值进入alu进行比较,由比较结果决定是pc+4还是pc+立即数（sb指令中的立即数是相对pc的地址）</p>
<p>j:jump指令显示在对pc的转变上面，跳转到pc+立即数的地址</p>
<h2 id="controller">controller<a class="headerlink" href="#controller" title="Permanent link">&para;</a></h2>
<h2 id="isa">ISA设计<a class="headerlink" href="#isa" title="Permanent link">&para;</a></h2>
<p>显示操作数：寄存器，内存，立即数</p>
<ul>
<li>栈结构：栈顶指针是第二操作数，栈顶指针下面的是第一操作数（注意sub）</li>
<li>累加器结构:第一源操作数是寄存器，第二是内存</li>
<li>通用寄存器结构（GPR）</li>
<li>register-memory architecture：所有指令都可以访问memory</li>
<li>load-store architecture：只有load/store指令可以访问memory</li>
</ul>
<p>多用GPR架构，因为寄存器访问速度更快（比缓存都快），并且寄存器方便临时变量的储存</p>
<h3 id="_1">寻址<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h3>
<p>字节为基本单元</p>
<p>小端序：低位放在地址的低位
大端序：高位放在地址的低位</p>
<h4 id="address-alignment">address alignment（字节对齐）<a class="headerlink" href="#address-alignment" title="Permanent link">&para;</a></h4>
<p>当 <strong>地址 mod 数据长度 = 0</strong> 时，则是对齐的</p>
<p>如果不对齐，则需要多次才能读出想要的数据。比如要读4字节数据，那么内存是从0，4，8等地址开始读取，不能从1，2，3等地址开始读，所以要字节对齐</p>
<h2 id="pipelined">Pipelined<a class="headerlink" href="#pipelined" title="Permanent link">&para;</a></h2>
<p>这是一种重叠执行（ overlapping execution ） ，相比于顺序执行（ sequential execution），对各模块的利用率更高，当同时硬件结构也更复杂，开销更大。</p>
<p>Each subprocess and its functional components in the pipelining are called <strong>stages</strong> or <strong>segments</strong>,the number of segment are called the <em>depth</em> of pipelining.</p>
<ul>
<li>pass time :从第一个任务进入开始到完全进入（最多重叠的时候）</li>
<li>empty time：最后一个任务从进入到出来（与pass time相对）</li>
</ul>
<h3 id="_2">分类<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>按功能分：</p>
<ul>
<li>single function pipelining：只能执行一种功能的指令（如浮点指令集）</li>
<li>multi function pipelining：可以执行多种指令功能</li>
<li>static pipelining：一次只能执行一种类型的指令</li>
<li>dynamic pipelining：一次可以同时执行多种类型的指令</li>
</ul>
<p>按线性性分：</p>
<ul>
<li>linear pipelining：流水线的每一阶段的执行是不可逆的</li>
<li>nonlinear pipelining：执行到流水线的某一阶段后也可以回到之前的阶段</li>
</ul>
<p>按有序性分:</p>
<ul>
<li>ordered pipelining：inflow顺序和outflow顺序一样</li>
<li>disordered pipelining：outflow的顺序和inflow不同</li>
</ul>
<h3 id="_3">吞吐量，加速比，效率<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<ul>
<li>单周期的时钟周期：最长的一条指令的执行时间</li>
<li>流水线时钟周期：阶段的最长时间</li>
</ul>
<p>重要参数：</p>
<ul>
<li>n:表示指令条数</li>
<li>m:表示一条指令分几个阶段执行 </li>
</ul>
<p><img alt="" src="../../img/co/timespace.png" /></p>
<p><strong>吞吐量（Throughput）：<span class="arithmatex">\(Tp=\frac{n}{T}\)</span></strong></p>
<p>其中n是指令的数量，T是执行总时间，吞吐量表示单位时间执行的指令的条数。</p>
<div class="arithmatex">\[Tp\leq Tp_{max}=\lim\limits_{n\to\infty}Tp\]</div>
<p>对于一般的流水线指令，<span class="arithmatex">\(Tp=\frac{n}{(m+n-1)t_0},Tp_{max}=\frac{1}{t_0}\)</span>.</p>
<p><strong>加速比（Speedup）：<span class="arithmatex">\(Sp=\frac{Extime_{single \  cycle} }{Extime_{pipelining}}\)</span></strong></p>
<p>一般流水线：<span class="arithmatex">\(Sp=\frac{n*m*t_0}{(n+m-1)t_0}=\frac{n*m}{n+m-1}\)</span></p>
<p><strong>效率比（Efficiency）：<span class="arithmatex">\(ρ=\frac{n*m*t_0}{(n+m-1)*m*t_0}=\frac{n}{n+m-1}\)</span></strong></p>
<p>效率的含义就是即考虑时间消耗又考虑空间消耗，<strong>在时空图上，体现在画出的格子占总格子的比例.</strong></p>
<p>在加速比和效率比中，如果<span class="arithmatex">\(n\to+\infty,则Sp=m,ρ=1\)</span>，说明当指令非常多，填满流水时效率最高。</p>
<h4 id="_4">静态流水线例子<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../../img/co/example1.png" /></p>
<p>注意是静态流水线，所以要等乘法执行完之后才能执行加法；同时，加法操作也要先等之前的结果计算出来之后才能开始执行：</p>
<p><img alt="" src="../../img/co/static.png" /></p>
<p>画出图易得：<span class="arithmatex">\(T=15t_0\)</span>，再依图计算即可。</p>
<h4 id="_5">动态流水线例子<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<p><img alt="" src="../../img/co/example2.png" /></p>
<p>乘法和加法可以同时执行，不过仍然要注意，如果需要之前的结果，那么必须等到之前的指令执行完毕才可以开始执行。</p>
<p><img alt="" src="../../img/co/dynamic%C2%B7.png" /></p>
<h3 id="_6">实现<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ol>
<li>IF:instruction fetch from memory</li>
<li>ID:Instruction decode and register read</li>
<li>EX:EXecute operation or calculate address</li>
<li>MEM:Access memory oprand</li>
<li>WB:write result back to register</li>
</ol>
<p>reg占半个时钟周期，前半个写，后半个读</p>
<h3 id="hazard">hazard 竞争<a class="headerlink" href="#hazard" title="Permanent link">&para;</a></h3>
<p>通用的解决方法是暂停（stall），添加气泡(addi x0,x0,0)。但是这会导致效率下降很多。</p>
<h4 id="structure-hazard">structure hazard<a class="headerlink" href="#structure-hazard" title="Permanent link">&para;</a></h4>
<ul>
<li>定义：a required resource is busy</li>
<li>添加硬件来解决，比如把data memory和instruction memory分开 </li>
</ul>
<h4 id="data-hazard">data hazard<a class="headerlink" href="#data-hazard" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>定义：该指令需要的数据要等到上一指令完成后写回</p>
</li>
<li>
<p>解决：</p>
</li>
</ul>
<ol>
<li>forwarding——adding extra hardware to retrieve the missing item early from the internal resources
   - 比如把上一条指令EX阶段或MEM阶段得到的数据提前传递给下一指令的EX阶段</li>
<li>部分情况也可以由编译器解决，如调整指令执行的顺序</li>
</ol>
<h5 id="forwarding">forwarding<a class="headerlink" href="#forwarding" title="Permanent link">&para;</a></h5>
<p>简单情况：
<img alt="" src="../../img/co/simple.png" />
double data hazard：
<img alt="" src="../../img/co/doubledata.png" />
load-use hazard:</p>
<h4 id="control-hazard">control hazard<a class="headerlink" href="#control-hazard" title="Permanent link">&para;</a></h4>
<ul>
<li>定义：flow of execution depends on previous instruction</li>
<li>解决：提前<strong>预测</strong>下条指令是pc+4还是跳转指令，如果预测错误则有惩罚（把预测的结果置0，添加正确的跳转指令）</li>
<li>简单预测（如预测pc+4）</li>
<li>根据经验（如预测循环结束跳转）</li>
<li>动态预测（根据之前的结果推断）</li>
<li>延迟决策（Delayed Decision）：将 branch 前的无关指令移动到 branch 之后的 bubble 处（分支延迟槽）执行，减少为了等待而插入的无意义 bubble 代码</li>
</ul>
<h3 id="_7">非线性流水线的调度<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<ol>
<li>首先通过预约表（Reservation table）来确定禁止集（prohibit sets）。禁止集即为过多少周期一定会出现冲突。</li>
<li>再根据禁止集决定冲突向量（conflict vector）。冲突向量把禁止集中有的元素置1，其他位置0.</li>
<li>由冲突向量画出状态转移图（state transition graph），从而算出所有调度</li>
<li>最后算出最佳的调度</li>
</ol>
<p><strong>例子：</strong></p>
<table>
<thead>
<tr>
<th></th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
</tr>
</thead>
<tbody>
<tr>
<td><span class="arithmatex">\(s_1\)</span></td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
</tr>
<tr>
<td><span class="arithmatex">\(s_2\)</span></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
</tr>
<tr>
<td><span class="arithmatex">\(s_3\)</span></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
<td>x</td>
<td></td>
</tr>
<tr>
<td><span class="arithmatex">\(s_4\)</span></td>
<td></td>
<td></td>
<td>x</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ol>
<li>首先算出禁止集={3,4,6},冲突向量=0101100</li>
<li>接着用移位或的方法算出所有可能的冲突向量。比如第一位为0，那么就可以选择移动一位，即0010110（右移一位）| 0101100（新送进来的指令）=0111110（更新后的冲突向量）。</li>
<li>接下来画出状态转移图，即把所有可能的冲突向量画进状态图里。然后找出所有构成的循环即为可能的调度:</li>
</ol>
<p><img alt="" src="../../img/co/nonpi.png" />
4. 最后算出最佳调度。比如{1，1，7}的调度，平均调度时间=<span class="arithmatex">\(\frac{1+1+7}{3}=3\)</span>,结果如下：</p>
<table>
<thead>
<tr>
<th>调度方案</th>
<th>平均调度时间</th>
</tr>
</thead>
<tbody>
<tr>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td>1，7</td>
<td>4</td>
</tr>
<tr>
<td>1，1，7</td>
<td>3</td>
</tr>
<tr>
<td>2，7</td>
<td>4.5</td>
</tr>
<tr>
<td>2，5</td>
<td>3.5</td>
</tr>
<tr>
<td>2，5，7</td>
<td>4.67</td>
</tr>
<tr>
<td>5</td>
<td>5</td>
</tr>
<tr>
<td>5，2</td>
<td>3.5</td>
</tr>
<tr>
<td>5，7</td>
<td>6</td>
</tr>
</tbody>
</table>
<h3 id="_8">多发射<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<ul>
<li>static multiple issue<ul>
<li><strong>compiler</strong> groups instruction to be issued together</li>
<li>packages them into issue slots</li>
<li>compiler detects and avoid hazard</li>
</ul>
</li>
<li>dynamic multiple issue<ul>
<li><strong>cpu</strong> examines instruction stream and chooses instruction to issue each cycle</li>
<li>compiler can help by reordering instructions</li>
<li>cpu resolves hazards using advanced techniques at runtime</li>
</ul>
</li>
</ul>
<p><strong>speculation(猜测)</strong></p>
<ul>
<li>start operation as soon as possible</li>
<li>predict;if not,roll-back</li>
<li>examples:branch outcome,load</li>
</ul>
<h4 id="superscalar">superscalar 超标量<a class="headerlink" href="#superscalar" title="Permanent link">&para;</a></h4>
<ul>
<li>The number of instructions which are issued in ezch clock cycle is <strong>not fixed</strong>.</li>
<li>if the upper limit is n,then the processor is called n-issue.</li>
<li>一次性打包发送多条指令</li>
<li>it can be static or dynamic</li>
</ul>
<h4 id="vlimvery-long-instruction-word">VLIM(very long instruction word) 超长指令字<a class="headerlink" href="#vlimvery-long-instruction-word" title="Permanent link">&para;</a></h4>
<ul>
<li>The number of instructions which are issued in each clock cycle is <strong>fixeds</strong>.And these instructions constitute a long instruction</li>
<li>把几条指令拼接成一条长指令发送出去</li>
<li>instruction scheduling is done <strong>statically</strong> by the compiler</li>
</ul>
<h4 id="super-pipeline">super-pipeline<a class="headerlink" href="#super-pipeline" title="Permanent link">&para;</a></h4>
<p>把流水线阶段做进一步的划分，但时钟周期没有缩短。即在一个时钟周期，指令不是同时发送出去的，而是把这个时钟周期分为n个阶段，每1/n的时间发送一条指令</p>
<p><img alt="" src="../../img/co/mutipipe.png" /></p>
<h2 id="_9">线程<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p>共享的：address space
不共享：register，pc,栈</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../introduction/" class="md-footer__link md-footer__link--prev" aria-label="上一页: introduction">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                introduction
              </div>
            </div>
          </a>
        
        
          
          <a href="../os/" class="md-footer__link md-footer__link--next" aria-label="下一页: 软件部分基础">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                软件部分基础
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 <a href="https://github.com/zhz235"  target="_blank" rel="noopener">zhz235</a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.footer", "navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit", "content.code.annotate", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://gcore.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>